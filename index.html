<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>xlNodeID_go</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/ghp.css" />
</head>
<body>
<div class="content">
<h1>xlNodeID_go</h1>

<p>The NodeID library for the xlattice_go project.</p>

<h2>NodeID</h2>

<p>A nodeID is a slice of bytes used to uniquely identify an entity.  The
length of the slice must be either 20 or 32 bytes.</p>

<p>The first is the length of an SHA-1 hash and so can be used, for example,
to store the SHA-1 hash of a document.</p>

<p>SHA-1 is the Secure Hash Algorithm designed by the US National Security Agency.
It is a Federal Information Processing Standard published by the National
Institute of Science and Technology,
<a href="http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf">FIPS180-4</a></p>

<p>In recent years many attempts have been made is crack SHA-1, that is to
identify two documents whose SHA-1 hash is the same.  At this time no such
hash collision has been found.  Nevertheless SHA-1 has been declared obsolete
(ie, cryptographically insecure) and so a competition was held to settle on a
new hash algorithm, SHA-3.  The competition was won by
<a href="http://noekeon.org/Keccak-implementation-3.2.pdf">Keccak</a>.</p>

<p>SHA-3 is available in a number of varians.  We use Keccak-256, the
32-byte/256-bit variant.  When XLattice documents refer to SHA-3, we mean
Keccak-256.  In other words, 32-byte XLattice nodeIDs are conventionally
SHA-3 hashes.</p>

<h2>IDMaps</h2>

<p>Because nodeIDs are used to uniquely identify objects within the XLattice
universe, it is convenient to have utilities which can store and rapidly
retrieve nodeIDs and pointers to the associated objects.</p>

<p>An idMap is a trie structure which stores keys and pointers to their associated
values.  A key is a byte slice (and assumed to be a nodeID).  A value can
be anything at all.</p>

<p>Each idMap has a maximum depth.  This is the length of the longest key can
can be stored in the idMap.  By default the depth is 32, the length of an
SHA-3 hash.</p>

<p>When a new key is inserted into an idMap, the software searches down the
existing tree.  At each level there is a 256-cell Map.  If at level N the
cell indexed by byte N is free, the new key is entered into the Map at
that level.  If the cell is occupied by a key which differs in the next
byte, a new Map is created, with the new key and the existing key in their
respecitive cells.  If the keys have equal next bytes, insertion recurses
down the tree, until a difference is found or the maximum depth is reached.</p>

<p>Despite the use of coarse locks, idMap
Insert and Find operations compare favorbly with that found using the
<a href="http://en.wikipedia.org/wiki/Hash_array_mapped_trie">HAMT</a> algorighm as
implemented in <a href="http://jddixon.github.io/hamt_go">hamt_go</a>.</p>
  <div class="f">
    <hr />
    <div class="license">
      <p><a href="LICENSE.html">LICENSE</a></p>
    </div>
    <div class="project">
      github <a href="https://github.com/jddixon/xlNodeID_go">      <img src="img/GitHub-Mark-32px.png" 
        alt="link to project"  
        style="display: inline-block; margin-left: 0 auto; margin-right: 0 auto">
       </a> project
    </div>
    <div class="logo" >
      <a href="http://www.xlattice.org">
      <img src="img/xlattice-2014.jpg" alt="the XLattice Project" style="float: right;" >
      </a>
    </div>
  </div>
</div>
</body>
</html>
